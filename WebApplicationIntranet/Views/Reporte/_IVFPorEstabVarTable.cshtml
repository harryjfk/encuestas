@model List<Entity.Reportes.IVFMEstVarReport>
@using WebApplication.App_Code;
@{
    List<int> listMonths = ViewBag.listMonths;
}

<style>
    .table {
        white-space: nowrap;
    }
    th {
    text-align:center;    
}
</style>

@*<table id="tbl-ivf" cellspacing="0" style="width: 100%; border-collapse: collapse;">
        <tr class="GridviewScrollHeader">
            <td> CIIU </td>
            <td> Código </td>
            <td> Establecimiento </td>
            <td>ENE-X</td><td>ENE Y</td><td>Var%</td>
            <td>FEB-X</td><td>FEB-Y</td><td>Var%</td>
            <td>MAR-X</td><td>MAR-Y</td><td>Var%</td>
            <td>ABR-X</td><td>ABR-Y</td><td>Var%</td>
            <td>MAY-X</td><td>MAY-Y</td><td>Var%</td>
            <td>JUN-X</td><td>JUN-Y</td><td>Var%</td>
            <td>JUL-X</td><td>JUL-Y</td><td>Var%</td>
            <td>AGO-X</td><td>AGO-Y</td><td>Var%</td>
            <td>SET-X</td><td>SET-Y</td><td>Var%</td>
            <td>OCT-X</td><td>OCT-Y</td><td>Var%</td>
            <td>NOV-X</td><td>NOV-Y</td><td>Var%</td>
            <td>DIC-X</td><td>DIC-Y</td><td>Var%</td>
        </tr>
        @foreach (var item in Model)
        {
            <tr class="GridviewScrollItem">
                <td>@Html.Raw(item.CodigoCiiu)</td>
                <td>@Html.Raw(item.CodigoEst)</td>
                <td>@Html.Raw(item.NomEst)</td>
                @foreach(var mes in item.Meses)
                {
                    <td>@mes.MesX</td><td>@mes.MesY</td><td>@mes.VariacionPorcentual</td>    
                }
            </tr> 
        }
</table>*@

@if (Model.Count > 0)
{
    <div class="row">
        <div class="col-md-12">
            <div class="table-responsive">
                <table id="tbl-ivf" class="table table-striped table-hover table-bordered table-condensed tabla small">
                    <thead>
                        <tr class="cabecera">
                            <th>CIIU </th>
                            <th>Código </th>
                            <th>Establecimiento </th>
                            @foreach (var mes in Model[0].Meses)
                            {
                                <th>@Static.GetMesAbreviaturaByIndex(mes.Nro)-@ViewBag.MesX</th>
                                <th>@Static.GetMesAbreviaturaByIndex(mes.Nro)-@ViewBag.MesY</th>
                                <th>Var%</th>    
                            }
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model)
                        {
                            <tr>
                                <td>@Html.Raw(item.CodigoCiiu)</td>
                                <td>@Html.Raw(item.CodigoEst)</td>
                                <td>@Html.Raw(item.NomEst)</td>
                                @foreach (var mes in item.Meses)
                                {
                                    <td>@mes.MesX</td>
                                    <td>@mes.MesY</td>
                                    <td>@mes.VariacionPorcentual</td>    
                                }
                            </tr> 
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>   
}

<script>
    $(document).ready(function () {

        //$('#tbl-ivf tr th').css({ 'display': 'none' });
        //$('#tbl-ivf tr td').css({ 'display': 'none' });

        @*        @foreach (var m in listMonths)
        {
            <text>
                $('#tbl-ivf tr th:nth-child(@(m+3))').css({ 'display': '' });
                $('#tbl-ivf tr td:nth-child(@(m+3))').css({ 'display': '' });
            </text>
        }

        $('#tbl-ivf tr th:nth-child(1)').css({ 'display': '' });
        $('#tbl-ivf tr td:nth-child(1)').css({ 'display': '' });
        $('#tbl-ivf tr th:nth-child(2)').css({ 'display': '' });
        $('#tbl-ivf tr td:nth-child(2)').css({ 'display': '' });
        $('#tbl-ivf tr th:nth-child(3)').css({ 'display': '' });
        $('#tbl-ivf tr td:nth-child(3)').css({ 'display': '' });*@
    });
</script>
